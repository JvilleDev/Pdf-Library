{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"HomeView\",\n  data() {\n    return {\n      query: \"\",\n      results: []\n    };\n  },\n  created() {\n    document.title = \"Search\";\n  },\n  methods: {\n    highlightText(context, query) {\n      if (!query) return context;\n      const regex = new RegExp(`(${query})`, 'gi');\n      return context.replace(regex, '<span class=\"highlighted\">$1</span>');\n    },\n    getDocumentURL(documentID) {\n      return `http://localhost:3000${documentID}`;\n    },\n    async easySearch() {\n      try {\n        const searchTerm = this.query;\n        const response = await axios.get(`http://localhost:3000/easy-search/${searchTerm}`);\n        this.results = response.data;\n      } catch (error) {\n        console.error('Error en la solicitud easySearch:', error);\n      }\n    },\n    async fullSearch() {\n      try {\n        const searchTerm = this.query;\n        const response = await axios.get(`http://localhost:3000/full-search/${searchTerm}`);\n        this.results = await Promise.all(response.data.map(async item => {\n          const infoResponse = await axios.get(`http://localhost:3000/info/${item.id}`);\n          const {\n            title,\n            description,\n            tags,\n            filePath\n          } = infoResponse.data;\n          return {\n            id: item.id,\n            title: title,\n            description: description,\n            tags: tags,\n            context: item.context,\n            filePath: filePath\n          };\n        }));\n      } catch (error) {\n        console.error('Error en la solicitud fullSearch:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","query","results","created","document","title","methods","highlightText","context","regex","RegExp","replace","getDocumentURL","documentID","easySearch","searchTerm","response","get","error","console","fullSearch","Promise","all","map","item","infoResponse","id","description","tags","filePath"],"sources":["C:\\Users\\ville\\OneDrive\\Escritorio\\Proyectos\\010 Pdf-Library\\frontend\\src\\components\\Home.vue"],"sourcesContent":["<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n    <div class=\"container\">\r\n      <a class=\"navbar-brand\" href=\"#\">Document Search</a>\r\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\"\r\n        aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n        <ul class=\"navbar-nav\">\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/\" class=\"nav-link active\">Home</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/upload\" class=\"nav-link\">Upload</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/files\" class=\"nav-link\">All Files</router-link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n  <div class=\"container mt-4\">\r\n    <h2 class=\"mb-4\">Search Documents</h2>\r\n    <div class=\"input-group mb-3\">\r\n      <input type=\"text\" class=\"form-control\" v-model=\"query\" placeholder=\"Search...\">\r\n      <button class=\"btn btn-outline-secondary\" @click=\"easySearch\">Easy Search</button>\r\n      <button class=\"btn btn-outline-secondary\" @click=\"fullSearch\">Full Search</button>\r\n    </div>\r\n    <div v-if=\"results.length > 0\" class=\"mt-4\">\r\n      <h3>Results:</h3>\r\n      <div class=\"row\">\r\n        <div v-for=\"result in results\" :key=\"result.id\" class=\"col-md-4 mb-4\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">{{ result.title }}</h5>\r\n              <p class=\"card-text\">{{ result.description }}</p>\r\n              <p class=\"card-text\"><strong>Tags:</strong> {{ result.tags }}</p>\r\n              <p v-if=\"result.context\" class=\"card-text\">\r\n                <strong>Text:</strong>\r\n                <span v-html=\"highlightText(result.context, query)\"></span>\r\n              </p>\r\n              <a :href=\"getDocumentURL(result.filePath)\" class=\"btn btn-primary\" target=\"_blank\">Open Document</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"mt-4\">\r\n      <p>No results found.</p>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"HomeView\",\r\n  data() {\r\n    return {\r\n      query: \"\",\r\n      results: []\r\n    };\r\n  },\r\n  created() {\r\n    document.title = \"Search\";\r\n  },\r\n  methods: {\r\n    highlightText(context, query) {\r\n      if (!query) return context;\r\n      const regex = new RegExp(`(${query})`, 'gi');\r\n      return context.replace(regex, '<span class=\"highlighted\">$1</span>');\r\n    }, getDocumentURL(documentID) {\r\n      return `http://localhost:3000${documentID}`;\r\n    },\r\n    async easySearch() {\r\n      try {\r\n        const searchTerm = this.query;\r\n        const response = await axios.get(`http://localhost:3000/easy-search/${searchTerm}`);\r\n        this.results = response.data;\r\n      } catch (error) {\r\n        console.error('Error en la solicitud easySearch:', error);\r\n      }\r\n    },\r\n    async fullSearch() {\r\n      try {\r\n        const searchTerm = this.query;\r\n        const response = await axios.get(`http://localhost:3000/full-search/${searchTerm}`);\r\n        this.results = await Promise.all(response.data.map(async (item) => {\r\n          const infoResponse = await axios.get(`http://localhost:3000/info/${item.id}`);\r\n          const { title, description, tags, filePath } = infoResponse.data;\r\n          return {\r\n            id: item.id,\r\n            title: title,\r\n            description: description,\r\n            tags: tags,\r\n            context: item.context,\r\n            filePath: filePath\r\n          };\r\n        }));\r\n      } catch (error) {\r\n        console.error('Error en la solicitud fullSearch:', error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.highlighted {\r\n  background-color: yellow;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n"],"mappings":"AA0DA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACRC,QAAQ,CAACC,KAAI,GAAI,QAAQ;EAC3B,CAAC;EACDC,OAAO,EAAE;IACPC,aAAaA,CAACC,OAAO,EAAEP,KAAK,EAAE;MAC5B,IAAI,CAACA,KAAK,EAAE,OAAOO,OAAO;MAC1B,MAAMC,KAAI,GAAI,IAAIC,MAAM,CAAE,IAAGT,KAAM,GAAE,EAAE,IAAI,CAAC;MAC5C,OAAOO,OAAO,CAACG,OAAO,CAACF,KAAK,EAAE,qCAAqC,CAAC;IACtE,CAAC;IAAEG,cAAcA,CAACC,UAAU,EAAE;MAC5B,OAAQ,wBAAuBA,UAAW,EAAC;IAC7C,CAAC;IACD,MAAMC,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMC,UAAS,GAAI,IAAI,CAACd,KAAK;QAC7B,MAAMe,QAAO,GAAI,MAAMlB,KAAK,CAACmB,GAAG,CAAE,qCAAoCF,UAAW,EAAC,CAAC;QACnF,IAAI,CAACb,OAAM,GAAIc,QAAQ,CAAChB,IAAI;MAC9B,EAAE,OAAOkB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MAC3D;IACF,CAAC;IACD,MAAME,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAML,UAAS,GAAI,IAAI,CAACd,KAAK;QAC7B,MAAMe,QAAO,GAAI,MAAMlB,KAAK,CAACmB,GAAG,CAAE,qCAAoCF,UAAW,EAAC,CAAC;QACnF,IAAI,CAACb,OAAM,GAAI,MAAMmB,OAAO,CAACC,GAAG,CAACN,QAAQ,CAAChB,IAAI,CAACuB,GAAG,CAAC,MAAOC,IAAI,IAAK;UACjE,MAAMC,YAAW,GAAI,MAAM3B,KAAK,CAACmB,GAAG,CAAE,8BAA6BO,IAAI,CAACE,EAAG,EAAC,CAAC;UAC7E,MAAM;YAAErB,KAAK;YAAEsB,WAAW;YAAEC,IAAI;YAAEC;UAAS,IAAIJ,YAAY,CAACzB,IAAI;UAChE,OAAO;YACL0B,EAAE,EAAEF,IAAI,CAACE,EAAE;YACXrB,KAAK,EAAEA,KAAK;YACZsB,WAAW,EAAEA,WAAW;YACxBC,IAAI,EAAEA,IAAI;YACVpB,OAAO,EAAEgB,IAAI,CAAChB,OAAO;YACrBqB,QAAQ,EAAEA;UACZ,CAAC;QACH,CAAC,CAAC,CAAC;MACL,EAAE,OAAOX,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MAC3D;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}